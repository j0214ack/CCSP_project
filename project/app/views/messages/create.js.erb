var chatCon = $("#chat_content");
var scrollHeight = chatCon[0].scrollHeight;
var chatConHeight = chatCon.height();
//http://stackoverflow.com/questions/4655273/jquery-window-scrolltop-but-no-window-scrollbottom
<% broadcast @message.channel do %>
$("#chat_content").append("<%= escape_javascript render(@message) %>");
$("#chat_content").scrollTop(scrollHeight);
<% end %>
$("#input_line").val('');
